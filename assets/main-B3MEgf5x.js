import{R,r as h,f as fe,a as ne,j as l,i as $,F as z,b as Ne,c as _e,d as ke,e as oe,g as Se,h as ft,k as ht,l as dt,m as vt,n as pt,o as gt,p as mt,q as yt,s as bt,t as wt,u as _t,v as St,w as xt,x as Ce,y as Me,z as Et,A as Ot,B as Tt,C as Z,D as ee,E as je,G as Ct}from"./index-CAvBgSjZ.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ge=function(e,n){return ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},ge(e,n)};function Mt(e,n){ge(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var se=function(){return se=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},se.apply(this,arguments)};function jt(e,n,t,r){var i,s=!1,o=0;function f(){i&&clearTimeout(i)}function p(){f(),s=!0}typeof n!="boolean"&&(r=t,t=n,n=void 0);function g(){var w=this,_=Date.now()-o,v=arguments;if(s)return;function C(){o=Date.now(),t.apply(w,v)}function O(){i=void 0}r&&!i&&C(),f(),r===void 0&&_>e?C():n!==!0&&(i=setTimeout(r?O:C,r===void 0?e-_:e))}return g.cancel=p,g}var te={Pixel:"Pixel",Percent:"Percent"},Le={unit:te.Percent,value:.8};function Ie(e){return typeof e=="number"?{unit:te.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:te.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:te.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Le):(console.warn("scrollThreshold should be string or number"),Le)}var De=function(e){Mt(n,e);function n(t){var r=e.call(this,t)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var s=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var o=r.props.inverse?r.isElementAtTop(s,r.props.scrollThreshold):r.isElementAtBottom(s,r.props.scrollThreshold);o&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=s.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},r.throttledOnScrollListener=jt(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(t){this.props.dataLength!==t.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(t,r){var i=t.dataLength!==r.prevDataLength;return i?se(se({},r),{prevDataLength:t.dataLength}):null},n.prototype.isElementAtTop=function(t,r){r===void 0&&(r=.8);var i=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,s=Ie(r);return s.unit===te.Pixel?t.scrollTop<=s.value+i-t.scrollHeight+1:t.scrollTop<=s.value/100+i-t.scrollHeight+1},n.prototype.isElementAtBottom=function(t,r){r===void 0&&(r=.8);var i=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,s=Ie(r);return s.unit===te.Pixel?t.scrollTop+i>=t.scrollHeight-s.value:t.scrollTop+i>=s.value/100*t.scrollHeight},n.prototype.render=function(){var t=this,r=se({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return R.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},R.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return t._infScroll=o},style:r},this.props.pullDownToRefresh&&R.createElement("div",{style:{position:"relative"},ref:function(o){return t._pullDown=o}},R.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(h.Component);function Lt({image:e,actualRowHeight:n,slideNumber:t,setSlideIndex:r,jumpToIndex:i,setAllImages:s,radius:o,rightSpace:f=0}){const[p,g]=h.useState(!1),[w,_]=h.useState(fe),[v,C]=h.useState(ne),[O,T]=h.useState(!1),[L,j]=h.useState(e.thumbsrc),[d,m]=h.useState(0),x=3;h.useEffect(()=>{if(d>0&&d<=x){const a=setTimeout(()=>{j(`${e.thumbsrc}?retry=${d}`)},Math.floor(Math.random()*7001)+3e3);return()=>clearTimeout(a)}},[d]);const c=()=>{d<x?m(d+1):console.error("Failed to load image after several attempts.")};h.useEffect(()=>{let a={};localStorage.getItem("favList")&&(a=JSON.parse(localStorage.getItem("favList"))),a[e.imgid]&&g(!0)},[]);const S=()=>{const a=!p;g(a);let b={};localStorage.getItem("favList")&&(b=JSON.parse(localStorage.getItem("favList"))),a?b[e.imgid]=e:delete b[e.imgid];let M=[];Object.entries(b).forEach(([P,I])=>{M.push(I)}),s(P=>({...P,fav:M})),localStorage.setItem("favList",JSON.stringify(b))},u=async()=>{const a=e.fullressrc,b=await fetch(a);if(!b.ok)throw new Error("Image download failed.");const M=await b.blob(),P=URL.createObjectURL(M),I=document.createElement("a");I.href=P;const U=new Date,H=U.getFullYear(),F=String(U.getMonth()+1).padStart(2,"0"),A=String(U.getDate()).padStart(2,"0"),B=String(U.getHours()).padStart(2,"0"),k=String(U.getMinutes()).padStart(2,"0"),D=String(U.getSeconds()).padStart(2,"0"),K=String(U.getMilliseconds()).padStart(3,"0"),q=`${document.title}_${H}${F}${A}${B}${k}${D}${K}.jpg`;I.download=q,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(P)},y=()=>{const a=window.location.pathname.split("/");a.length<=3?a.push("share/"):(a.length=3,a[a.length-1]==""?a[a.length-2]="share":a[a.length-1]="share/");const b=window.location.origin+a.join("/").replace("//","/")+"?id="+e.imgid;navigator.share?navigator.share({title:document.title,text:document.title,url:b}):navigator.clipboard?navigator.clipboard.writeText(b):console.error("Neither Web Share API nor Clipboard API is supported")};return l.jsx("div",{style:{backgroundColor:"rgba(0,0,0,0)",marginRight:f,width:e.width/e.height*n,height:n},children:l.jsxs("div",{className:"image-container",style:{marginRight:f,width:e.width/e.height*n,height:n},children:[l.jsx("img",{id:e.imgid,src:L,style:{borderRadius:o},loading:"lazy",onError:c,onLoad:a=>a.target.style.opacity="1",onClick:()=>{r(t),i(t)},onContextMenu:a=>a.preventDefault()}),!$&&l.jsx("div",{className:"overlay",onClick:()=>{r(t),i(t)},onContextMenu:a=>a.preventDefault(),onMouseOver:()=>T(!0),onMouseLeave:()=>T(!1),children:O&&l.jsxs(l.Fragment,{children:[p?l.jsx(z,{icon:Ne,size:"lg",color:"#DC143C",onClick:a=>{a.stopPropagation(),S()}}):l.jsx(z,{icon:_e,size:"lg",color:"#ddd",onClick:a=>{a.stopPropagation(),S()}}),l.jsx(z,{icon:w,size:"lg",style:{marginLeft:10},color:"#ddd",onClick:a=>{a.stopPropagation(),u(),_(ke),setTimeout(()=>{_(fe)},oe)}}),l.jsx(z,{icon:v,size:"lg",style:{marginLeft:10},color:"#ddd",onClick:a=>{a.stopPropagation(),y(),C(Se),setTimeout(()=>{C(ne)},oe)}})]})})]})})}function It({images:e,imagesToRender:n,setImagesToRender:t,setAllImages:r,setSlideIndex:i,jumpToIndex:s,limit:o=5,targetRowHeight:f,edgeMargin:p,spacing:g,radius:w=0,ratioLimit:_=2}){const[v,C]=h.useState(document.documentElement.clientWidth-2*p),[O,T]=h.useState(o),L=()=>{const m=localStorage.getItem("filterMode");let x;m?x=Number(localStorage.getItem("filterMode")):(localStorage.setItem("filterMode",String(0)),x=0);let c={};if(localStorage.getItem("faceList")&&(c=JSON.parse(localStorage.getItem("faceList"))),Object.keys(c).length==0)t(e);else{let S=[];x==0?S=e.filter(u=>Object.keys(c).some(y=>c[y].includes(u.imgid))):x==1&&(S=e.filter(u=>Object.keys(c).every(y=>c[y].includes(u.imgid)))),t(S)}};h.useEffect(()=>{L();const m=()=>{C(document.documentElement.clientWidth-2*p)};return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),h.useEffect(()=>{L()},[e]);const j=()=>{T(O+1)},d=m=>{let x=[],c=0,S=f;for(let u=1;u<=O;u++){let y=c,a=0;for(;a<v&&c!=m.length;){const b=m[c];if(a+b.width/b.height*f+g>=v&&Math.abs(v-a)<Math.abs(a+b.width/b.height*f+g-v))break;a+=b.width/b.height*f+g,c++}if(a-=g,a>0){const b=v/a<_?f*(v/a):S;x.push(l.jsx("div",{className:"flex-container",style:{height:v/a<_?f*(v/a):S,marginBottom:g,justifyContent:v/a>=_?"left":""},children:m.slice(y,c).map((M,P)=>l.jsx(Lt,{image:M,actualRowHeight:b,slideNumber:y+P,setSlideIndex:i,jumpToIndex:s,setAllImages:r,radius:w,rightSpace:v/a>=_?g:0},M.imgid))},c)),S=v/a<_?f*(v/a):S}if(c==m.length)break}return x};return l.jsx(De,{next:j,hasMore:!0,dataLength:O,loader:l.jsx(l.Fragment,{}),children:l.jsx("div",{className:"headRow",style:{margin:p,marginTop:0},children:n.length>0?d(n):l.jsx("div",{className:"blank",style:{marginTop:2*p},children:l.jsx("div",{children:"Nothing to see here yet"})})})})}function Pt({images:e,actualRowHeight:n,radius:t,rightSpace:r=0}){const[i,s]=h.useState(e[Math.floor(Math.random()*e.length)]),[o,f]=h.useState(i.thumbsrc),[p,g]=h.useState(0),[w,_]=h.useState(i.thumbsrc),[v,C]=h.useState(0),[O,T]=h.useState(0),L=3,j=1e3,d="ease",m=0,[x,c]=h.useState(!1),S=()=>{setTimeout(()=>{C(1),setTimeout(()=>{g(0);const a=Math.floor(Math.random()*e.length);s(e[a]),T(0),f(e[a].thumbsrc)},1e3),S()},Math.floor(Math.random()*0)+9e3)};h.useEffect(()=>{S();let a={};localStorage.getItem("faceList")&&(a=JSON.parse(localStorage.getItem("faceList"))),a[e[0].parentid]&&c(!0)},[]),h.useEffect(()=>{if(O>0&&O<=L){const a=setTimeout(()=>{f(`${i.thumbsrc}?retry=${O}`)},Math.floor(Math.random()*7001)+3e3);return()=>clearTimeout(a)}},[O]);const u=()=>{O<L?T(O+1):console.error("Failed to load image after several attempts.")},y=()=>{const a=!x;c(a);let b={};localStorage.getItem("faceList")&&(b=JSON.parse(localStorage.getItem("faceList"))),a?b[e[0].parentid]=e.map(M=>M.sourceid):delete b[e[0].parentid],localStorage.setItem("faceList",JSON.stringify(b))};return l.jsx("div",{style:{backgroundColor:"rgba(0,0,0,0)",marginRight:r,width:n,height:n},children:l.jsxs("div",{className:"image-container",style:{marginRight:r,width:n,height:n},onContextMenu:a=>a.preventDefault(),onClick:a=>{a.stopPropagation(),y()},children:[l.jsx("img",{src:o,style:{borderRadius:t,opacity:p,position:"absolute",top:0,left:0,transition:`opacity ${j/1e3}s ${d} ${m/1e3}s`},onError:u,onLoad:a=>{g(1),setTimeout(()=>{C(0)},1e3),setTimeout(()=>{_(o)},2e3)}}),l.jsx("img",{src:w,style:{borderRadius:t,opacity:v,transition:`opacity ${j/1e3}s ${d} ${m/1e3}s`,position:"absolute",top:0,left:0},onError:u}),l.jsx("div",{className:"overlay overlay-faces",onContextMenu:a=>a.preventDefault(),children:x?l.jsx(z,{icon:ht,size:"xl",color:"#ddd",onClick:a=>{a.stopPropagation(),y()}}):l.jsx(z,{icon:ft,size:"xl",color:"#ddd",onClick:a=>{a.stopPropagation(),y()}})})]})})}function Rt(){const[e,n]=h.useState(0),t=[dt,vt,pt],r=[["At least one","of the selected faces"],["Include all","of the selected faces"],["Include only","the selected faces"]];return h.useEffect(()=>{const i=localStorage.getItem("filterMode");i?n(Number(i)):localStorage.setItem("filterMode",String(0))},[]),l.jsxs("div",{id:"eventBox",className:"eventBox",style:{paddingTop:0},children:[r.map((i,s)=>l.jsxs("div",{className:"event",style:{color:e==s?"#000":"",flexDirection:"row",alignItems:"center",paddingRight:s!=r.length-1?"":0},onClick:()=>{n(s),localStorage.setItem("filterMode",String(s))},children:[l.jsx(z,{icon:t[s],size:"lg",style:{paddingRight:10}}),l.jsxs("div",{children:[i[0],l.jsx("div",{className:"titleLight",children:i[1]})]})]},s)),l.jsx("div",{className:"event",style:{marginLeft:"auto",paddingRight:0}})]})}function Nt({faceImages:e,limit:n=5,targetRowHeight:t,edgeMargin:r,spacing:i,radius:s=0,ratioLimit:o=2}){const[f,p]=h.useState(document.documentElement.clientWidth-2*r),[g,w]=h.useState([]);h.useEffect(()=>{let T=[];for(const j in e){let d=[];for(let m=0;m<e[j].length;m++)d.push(e[j][m]);T.push(d)}w(T);const L=()=>{p(document.documentElement.clientWidth-2*r)};return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const[_,v]=h.useState(n),C=()=>{v(_+1)},O=T=>{let L=[],j=0,d=t;for(let m=1;m<=_;m++){let x=j,c=0;for(;c<f&&!(j==T.length||c*t+i>=f&&Math.abs(f-c)<Math.abs(c+t+i-f));)c+=t+i,j++;if(c-=i,c>0){const S=f/c<o?t*(f/c):d;L.push(l.jsx("div",{className:"flex-container",style:{height:f/c<o?t*(f/c):d,marginBottom:i,justifyContent:f/c>=o?"left":""},children:T.slice(x,j).map(u=>l.jsx(Pt,{images:u,actualRowHeight:S,radius:s,rightSpace:f/c>=o?i:0},u[0].parentid))},j)),d=f/c<o?t*(f/c):d}if(j==T.length)break}return L};return l.jsxs(l.Fragment,{children:[l.jsx(Rt,{}),l.jsx(De,{next:C,hasMore:!0,dataLength:_,loader:l.jsx(l.Fragment,{}),children:l.jsx("div",{className:"headRow",style:{margin:r,marginTop:0},children:g.length>0?O(g):l.jsx("div",{className:"blank",style:{marginTop:2*r},children:l.jsx("div",{children:"Nothing to see here yet"})})})})]})}var Ae=function(){if(typeof Map<"u")return Map;function e(n,t){var r=-1;return n.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(t){var r=e(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},n.prototype.set=function(t,r){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},n.prototype.delete=function(t){var r=this.__entries__,i=e(r,t);~i&&r.splice(i,1)},n.prototype.has=function(t){return!!~e(this.__entries__,t)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},n}()}(),me=typeof window<"u"&&typeof document<"u"&&window.document===document,he=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),kt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(he):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Dt=2;function At(e,n){var t=!1,r=!1,i=0;function s(){t&&(t=!1,e()),r&&f()}function o(){kt(s)}function f(){var p=Date.now();if(t){if(p-i<Dt)return;r=!0}else t=!0,r=!1,setTimeout(o,n);i=p}return f}var $t=20,zt=["top","right","bottom","left","width","height","size","weight"],Ft=typeof MutationObserver<"u",Ut=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=At(this.refresh.bind(this),$t)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var t=this.observers_,r=t.indexOf(n);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return n.forEach(function(t){return t.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!me||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ft?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!me||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var t=n.propertyName,r=t===void 0?"":t,i=zt.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),$e=function(e,n){for(var t=0,r=Object.keys(n);t<r.length;t++){var i=r[t];Object.defineProperty(e,i,{value:n[i],enumerable:!1,writable:!1,configurable:!0})}return e},re=function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||he},ze=ve(0,0,0,0);function de(e){return parseFloat(e)||0}function Pe(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.reduce(function(r,i){var s=e["border-"+i+"-width"];return r+de(s)},0)}function Bt(e){for(var n=["top","right","bottom","left"],t={},r=0,i=n;r<i.length;r++){var s=i[r],o=e["padding-"+s];t[s]=de(o)}return t}function Wt(e){var n=e.getBBox();return ve(0,0,n.width,n.height)}function Ht(e){var n=e.clientWidth,t=e.clientHeight;if(!n&&!t)return ze;var r=re(e).getComputedStyle(e),i=Bt(r),s=i.left+i.right,o=i.top+i.bottom,f=de(r.width),p=de(r.height);if(r.boxSizing==="border-box"&&(Math.round(f+s)!==n&&(f-=Pe(r,"left","right")+s),Math.round(p+o)!==t&&(p-=Pe(r,"top","bottom")+o)),!qt(e)){var g=Math.round(f+s)-n,w=Math.round(p+o)-t;Math.abs(g)!==1&&(f-=g),Math.abs(w)!==1&&(p-=w)}return ve(i.left,i.top,f,p)}var Yt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof re(e).SVGGraphicsElement}:function(e){return e instanceof re(e).SVGElement&&typeof e.getBBox=="function"}}();function qt(e){return e===re(e).document.documentElement}function Gt(e){return me?Yt(e)?Wt(e):Ht(e):ze}function Jt(e){var n=e.x,t=e.y,r=e.width,i=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return $e(o,{x:n,y:t,width:r,height:i,top:t,right:n+r,bottom:i+t,left:n}),o}function ve(e,n,t,r){return{x:e,y:n,width:t,height:r}}var Vt=function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ve(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=Gt(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e}(),Qt=function(){function e(n,t){var r=Jt(t);$e(this,{target:n,contentRect:r})}return e}(),Kt=function(){function e(n,t,r){if(this.activeObservations_=[],this.observations_=new Ae,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof re(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)||(t.set(n,new Vt(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof re(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)&&(t.delete(n),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&n.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Qt(r.target,r.broadcastRect())});this.callback_.call(n,t,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Fe=typeof WeakMap<"u"?new WeakMap:new Ae,Ue=function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Ut.getInstance(),r=new Kt(n,t,this);Fe.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Ue.prototype[e]=function(){var n;return(n=Fe.get(this))[e].apply(n,arguments)}});var Be=function(){return typeof he.ResizeObserver<"u"?he.ResizeObserver:Ue}(),Y=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Y.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Y.Bounce.In(e*2)*.5:Y.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),ie=function(){return performance.now()},xe=function(){function e(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(t){return n._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];(n=o._group)===null||n===void 0||n.remove(o),o._group=this,this._tweens[o.getId()]=o,this._tweensAddedDuringUpdate[o.getId()]=o}},e.prototype.remove=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=0,i=n;r<i.length;r++){var s=i[r];s._group=void 0,delete this._tweens[s.getId()],delete this._tweensAddedDuringUpdate[s.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,t){n===void 0&&(n=ie()),t===void 0&&(t=!0);var r=Object.keys(this._tweens);if(r.length!==0)for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var s=this._tweens[r[i]],o=!t;s&&s.update(n,o)===!1&&!t&&this.remove(s)}r=Object.keys(this._tweensAddedDuringUpdate)}},e}(),ye={Linear:function(e,n){var t=e.length-1,r=t*n,i=Math.floor(r),s=ye.Utils.Linear;return n<0?s(e[0],e[1],r):n>1?s(e[t],e[t-1],t-r):s(e[i],e[i+1>t?t:i+1],r-i)},Utils:{Linear:function(e,n,t){return(n-e)*t+e}}},We=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),be=new xe,He=function(){function e(n,t){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Y.Linear.None,this._interpolationFunction=ye.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=We.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof t=="object"?(this._group=t,t.add(this)):t===!0&&(this._group=be,be.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,t){if(n===void 0&&(n=ie()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var s in this._valuesEnd)i[s]=this._valuesEnd[s];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,t,r,i,s){for(var o in r){var f=n[o],p=Array.isArray(f),g=p?"array":typeof f,w=!p&&Array.isArray(r[o]);if(!(g==="undefined"||g==="function")){if(w){var _=r[o];if(_.length===0)continue;for(var v=[f],C=0,O=_.length;C<O;C+=1){var T=this._handleRelativeValue(f,_[C]);if(isNaN(T)){w=!1,console.warn("Found invalid interpolation list. Skipping.");break}v.push(T)}w&&(r[o]=v)}if((g==="object"||p)&&f&&!w){t[o]=p?[]:{};var L=f;for(var j in L)t[o][j]=L[j];i[o]=p?[]:{};var _=r[o];if(!this._isDynamic){var d={};for(var j in _)d[j]=_[j];r[o]=_=d}this._setupProperties(L,t[o],_,i[o],s)}else(typeof t[o]>"u"||s)&&(t[o]=f),p||(t[o]*=1),w?i[o]=r[o].slice().reverse():i[o]=t[o]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=ie()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=ie()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,t=this._chainedTweens.length;n<t;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=Y.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=ye.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,t){var r=this,i;if(n===void 0&&(n=ie()),t===void 0&&(t=e.autoStartOnUpdate),this._isPaused)return!0;var s;if(!this._goToEnd&&!this._isPlaying)if(t)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var o=n-this._startTime,f=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),p=this._duration+this._repeat*f,g=function(){if(r._duration===0||o>p)return 1;var T=Math.trunc(o/f),L=o-T*f,j=Math.min(L/r._duration,1);return j===0&&o===r._duration?1:j},w=g(),_=this._easingFunction(w);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,_),this._onUpdateCallback&&this._onUpdateCallback(this._object,w),this._duration===0||o>=this._duration)if(this._repeat>0){var v=Math.min(Math.trunc((o-this._duration)/f)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=v);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=f*v,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var C=0,O=this._chainedTweens.length;C<O;C++)this._chainedTweens[C].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,t,r,i){for(var s in r)if(t[s]!==void 0){var o=t[s]||0,f=r[s],p=Array.isArray(n[s]),g=Array.isArray(f),w=!p&&g;w?n[s]=this._interpolationFunction(f,i):typeof f=="object"&&f?this._updateProperties(n[s],o,f,i):(f=this._handleRelativeValue(o,f),typeof f=="number"&&(n[s]=o+(f-o)*i))}},e.prototype._handleRelativeValue=function(n,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?n+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(n){var t=this._valuesStartRepeat[n],r=this._valuesEnd[n];typeof r=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(r):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=t},e.autoStartOnUpdate=!1,e}();We.nextId;var V=be;V.getAll.bind(V);V.removeAll.bind(V);V.add.bind(V);V.remove.bind(V);V.update.bind(V);const Ye=(e,n)=>n&&n<R.Children.count(e)?n:0,Xt=(e,n)=>{if(typeof window<"u"&&Array.isArray(n))return n.find(t=>t.breakpoint<=e)},Re={linear:Y.Linear.None,ease:Y.Quadratic.InOut,"ease-in":Y.Quadratic.In,"ease-out":Y.Quadratic.Out,cubic:Y.Cubic.InOut,"cubic-in":Y.Cubic.In,"cubic-out":Y.Cubic.Out},qe=e=>e?Re[e]:Re.linear,Ge=({prevArrow:e,infinite:n},t,r)=>{const i=t<=0&&!n,s={"data-type":"prev","aria-label":"Previous Slide",disabled:i,onClick:r};if(e)return R.cloneElement(e,{className:`${e.props.className||""} nav ${i?"disabled":""}`,...s});const o=`nav default-nav ${i?"disabled":""}`;return l.jsx("button",{type:"button",className:o,...s,children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})})})},Je=(e,n,t,r)=>{const{nextArrow:i,infinite:s,children:o}=e;let f=1;r?f=r==null?void 0:r.settings.slidesToScroll:"slidesToScroll"in e&&(f=e.slidesToScroll||1);const p=n>=R.Children.count(o)-f&&!s,g={"data-type":"next","aria-label":"Next Slide",disabled:p,onClick:t};if(i)return R.cloneElement(i,{className:`${i.props.className||""} nav ${p?"disabled":""}`,...g});const w=`nav default-nav ${p?"disabled":""}`;return l.jsx("button",{type:"button",className:w,...g,children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})})})},Zt=(e,n,t)=>l.jsx("li",{children:l.jsx("button",{type:"button",className:`each-slideshow-indicator ${e?"active":""}`,...t})},n),en=(e,n,t,r)=>R.cloneElement(r,{className:`${r.props.className} ${e?"active":""}`,key:n,...t}),Ve=(e,n,t,r)=>{const{children:i,indicators:s}=e;let o=1;r?o=r==null?void 0:r.settings.slidesToScroll:"slidesToScroll"in e&&(o=e.slidesToScroll||1);const f=Math.ceil(R.Children.count(i)/o);return l.jsx("ul",{className:"indicators",children:Array.from({length:f},(p,g)=>{const w={"data-key":g,"aria-label":`Go to slide ${g+1}`,onClick:t},_=Math.floor((n+o-1)/o)===g;return typeof s=="function"?en(_,g,w,s(g)):Zt(_,g,w)})})},pe={duration:5e3,transitionDuration:1e3,defaultIndex:0,infinite:!0,autoplay:!0,indicators:!1,arrows:!0,pauseOnHover:!0,easing:"linear",canSwipe:!0,cssClass:"",responsive:[]},Ee=R.forwardRef((e,n)=>{const[t,r]=h.useState(Ye(e.children,e.defaultIndex)),i=h.useRef(null),s=h.useRef(null),o=h.useRef(new xe),f=h.useRef(),p=h.useRef(),g=h.useMemo(()=>R.Children.count(e.children),[e.children]),w=h.useCallback(()=>{if(s.current&&i.current){const u=i.current.clientWidth,y=u*g;s.current.style.width=`${y}px`;for(let a=0;a<s.current.children.length;a++){const b=s.current.children[a];b&&(b.style.width=`${u}px`,b.style.left=`${a*-u}px`,b.style.display="block")}}},[i,s,g]),_=h.useCallback(()=>{i.current&&(p.current=new Be(u=>{u&&w()}),p.current.observe(i.current))},[i,w]),v=h.useCallback(()=>{const{autoplay:u,children:y,duration:a,infinite:b}=e;u&&R.Children.count(y)>1&&(b||t<R.Children.count(y)-1)&&(f.current=setTimeout(L,a))},[e,t]);h.useEffect(()=>(_(),()=>{o.current.removeAll(),clearTimeout(f.current),C()}),[_,o]),h.useEffect(()=>{clearTimeout(f.current),v()},[t,e.autoplay,v]),h.useEffect(()=>{w()},[g,w]),h.useImperativeHandle(n,()=>({goNext:()=>{L()},goBack:()=>{j()},goTo:(u,y)=>{y!=null&&y.skipTransition?r(u):c(u)}}));const C=()=>{p.current&&i.current&&p.current.unobserve(i.current)},O=()=>{e.pauseOnHover&&clearTimeout(f.current)},T=()=>{const{pauseOnHover:u,autoplay:y,duration:a}=e;u&&y&&(f.current=setTimeout(()=>L(),a))},L=()=>{const{children:u,infinite:y}=e;!y&&t===R.Children.count(u)-1||x((t+1)%R.Children.count(u))},j=()=>{const{children:u,infinite:y}=e;!y&&t===0||x(t===0?R.Children.count(u)-1:t-1)},d=u=>{const{currentTarget:y}=u;y.dataset.type==="prev"?j():L()},m=()=>{requestAnimationFrame(m),o.current.update()},x=u=>{var a;if(!o.current.getAll().length){(a=s.current)!=null&&a.children[u]||(u=0),clearTimeout(f.current);const b={opacity:0,scale:1};m();const M=new He(b,o.current).to({opacity:1,scale:e.scale},e.transitionDuration).onUpdate(P=>{s.current&&(s.current.children[u].style.opacity=P.opacity,s.current.children[t].style.opacity=1-P.opacity,s.current.children[t].style.transform=`scale(${P.scale})`)});M.easing(qe(e.easing)),M.onStart(()=>{typeof e.onStartChange=="function"&&e.onStartChange(t,u)}),M.onComplete(()=>{s.current&&(r(u),s.current.children[t].style.transform="scale(1)"),typeof e.onChange=="function"&&e.onChange(t,u)}),M.start()}},c=u=>{u!==t&&x(u)},S=u=>{const{currentTarget:y}=u;y.dataset.key&&parseInt(y.dataset.key)!==t&&c(parseInt(y.dataset.key))};return l.jsxs("div",{dir:"ltr","aria-roledescription":"carousel",children:[l.jsxs("div",{className:`react-slideshow-container ${e.cssClass||""}`,onMouseEnter:O,onMouseOver:O,onMouseLeave:T,children:[e.arrows&&Ge(e,t,d),l.jsx("div",{className:`react-slideshow-fadezoom-wrapper ${e.cssClass}`,ref:i,children:l.jsx("div",{className:"react-slideshow-fadezoom-images-wrap",ref:s,children:(R.Children.map(e.children,u=>u)||[]).map((u,y)=>l.jsx("div",{style:{opacity:y===t?"1":"0",zIndex:y===t?"1":"0"},"data-index":y,"aria-roledescription":"slide","aria-hidden":y===t?"false":"true",children:u},y))})}),e.arrows&&Je(e,t,d)]}),e.indicators&&Ve(e,t,S)]})});Ee.defaultProps=pe;const tn=R.forwardRef((e,n)=>l.jsx(Ee,{...e,scale:1,ref:n}));tn.defaultProps=pe;const nn=R.forwardRef((e,n)=>l.jsx(Ee,{...e,ref:n}));nn.defaultProps=pe;const Qe=R.forwardRef((e,n)=>{const[t,r]=h.useState(Ye(e.children,e.defaultIndex)),[i,s]=h.useState(0),o=h.useRef(null),f=h.useRef(null),p=h.useRef(new xe),g=h.useMemo(()=>Xt(i,e.responsive),[i,e.responsive]),w=h.useMemo(()=>g?g.settings.slidesToScroll:e.slidesToScroll||1,[g,e.slidesToScroll]),_=h.useMemo(()=>g?g.settings.slidesToShow:e.slidesToShow||1,[g,e.slidesToShow]),v=h.useMemo(()=>R.Children.count(e.children),[e.children]),C=h.useMemo(()=>i/_,[i,_]),O=h.useRef(),T=h.useRef();let L,j=!1,d=0;const m=e.vertical?"translateY":"translateX",x=e.vertical?"clientY":"clientX",c=e.vertical?"pageY":"pageX",S=h.useCallback(()=>{if(f.current){const E=i*f.current.children.length,N=e.vertical?"height":"width";f.current.style[N]=`${E}px`,e.vertical&&o.current&&(o.current.style[N]=`${i}px`);for(let W=0;W<f.current.children.length;W++){const G=f.current.children[W];G&&(e.vertical||(G.style[N]=`${C}px`),G.style.display="block")}}},[i,C]),u=h.useCallback(()=>{o.current&&(T.current=new Be(E=>{E&&K()}),T.current.observe(o.current))},[o]),y=h.useCallback(()=>{const{autoplay:E,infinite:N,duration:W}=e;E&&(N||t<v-1)&&(O.current=setTimeout(P,W))},[e,v,t]);h.useEffect(()=>{S()},[i,S]),h.useEffect(()=>(u(),()=>{p.current.removeAll(),clearTimeout(O.current),a()}),[o,u,p]),h.useEffect(()=>{clearTimeout(O.current),y()},[t,i,e.autoplay,y]),h.useImperativeHandle(n,()=>({goNext:()=>{P()},goBack:()=>{I()},goTo:(E,N)=>{N!=null&&N.skipTransition?r(E):H(E)}}));const a=()=>{T&&o.current&&T.current.unobserve(o.current)},b=()=>{e.pauseOnHover&&clearTimeout(O.current)},M=E=>{if(e.canSwipe&&j){let N;if(window.TouchEvent&&E.nativeEvent instanceof TouchEvent?N=E.nativeEvent.touches[0][c]:N=E.nativeEvent[x],N&&L){let W=C*(t+le());const G=N-L;if(!e.infinite&&t===v-w&&G<0||!e.infinite&&t===0&&G>0||e.infinite&&!e.customEdgeLimitLeft&&G>0||e.infinite&&!e.customEdgeLimitRight&&G<0)return;d=G,W-=d,f.current.style.transform=`${m}(-${W}px)`}}},P=()=>{if(!e.infinite&&t===v-w)return;const E=F(t+w);ce(E)},I=()=>{if(!e.infinite&&t===0)return;let E=t-w;E%w&&(E=Math.ceil(E/w)*w),ce(E)},U=({currentTarget:E})=>{if(!E.dataset.key)return;const N=parseInt(E.dataset.key);H(N*w)},H=E=>{ce(F(E))},F=E=>E<v&&E+w>v&&(v-w)%w?v-w:E,A=()=>{j?J():e.pauseOnHover&&e.autoplay&&(O.current=setTimeout(P,e.duration))},B=({currentTarget:{dataset:E}})=>{E.type==="next"?P():I()},k=()=>R.Children.toArray(e.children).slice(-_).map((E,N)=>l.jsx("div",{"data-index":N-_,"aria-roledescription":"slide","aria-hidden":"true",children:E},N-_)),D=()=>{if(!(!e.infinite&&_===w))return R.Children.toArray(e.children).slice(0,_).map((E,N)=>l.jsx("div",{"data-index":v+N,"aria-roledescription":"slide","aria-hidden":"true",children:E},v+N))},K=()=>{const E=e.vertical?"clientHeight":"clientWidth";e.vertical?f.current&&s(f.current.children[0][E]):o.current&&s(o.current[E])},q=E=>{e.canSwipe&&(window.TouchEvent&&E.nativeEvent instanceof TouchEvent?L=E.nativeEvent.touches[0][c]:L=E.nativeEvent[x],clearTimeout(O.current),j=!0)},J=()=>{e.canSwipe&&(j=!1,Math.abs(d)/i>.2?d<0?P():I():Math.abs(d)>0&&ce(t,300))},ae=()=>{requestAnimationFrame(ae),p.current.update()},ce=(E,N)=>{const W=N||e.transitionDuration,G=t,at=p.current.getAll();if(!o.current)return;const ct=e.vertical?"clientHeight":"clientWidth",Te=o.current[ct]/_;if(!at.length){clearTimeout(O.current);const lt={margin:-Te*(G+le())+d},ue=new He(lt,p.current).to({margin:-Te*(E+le())},W).onUpdate(ut=>{f.current&&(f.current.style.transform=`${m}(${ut.margin}px)`)});ue.easing(qe(e.easing)),ae();let X=E;X<0?X=v-w:X>=v&&(X=0),ue.onStart(()=>{typeof e.onStartChange=="function"&&e.onStartChange(t,X)}),ue.onComplete(()=>{d=0,typeof e.onChange=="function"&&e.onChange(t,X),r(X)}),ue.start()}},rt=E=>E<t+_&&E>=t,le=()=>e.infinite?_:0,it={transform:`${m}(-${(t+le())*C}px)`},[st,ot]=h.useState(window.innerHeight);return h.useEffect(()=>{const E=()=>{ot(window.innerHeight)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),l.jsxs("div",{dir:"ltr","aria-roledescription":"carousel",children:[l.jsxs("div",{style:{height:`${st}px`},className:"react-slideshow-container",onMouseEnter:b,onMouseOver:b,onMouseLeave:A,onMouseDown:q,onMouseUp:J,onMouseMove:M,onTouchStart:q,onTouchEnd:J,onTouchCancel:J,onTouchMove:M,children:[e.arrows&&Ge(e,t,B),l.jsx("div",{className:`react-slideshow-wrapper slide ${e.cssClass||""}`,ref:o,children:l.jsxs("div",{className:`images-wrap ${e.vertical?"vertical":"horizontal"}`,style:it,ref:f,children:[e.infinite&&k(),(R.Children.map(e.children,E=>E)||[]).map((E,N)=>{const W=rt(N);return l.jsx("div",{"data-index":N,className:W?"active":"","aria-roledescription":"slide","aria-hidden":W?"false":"true",children:E},N)}),D()]})}),e.arrows&&Je(e,t,B,g)]}),!!e.indicators&&Ve(e,t,U,g)]})});Qe.defaultProps=pe;function rn({isFav:e,toggleFav:n,isPlaying:t,playPauseSlideshow:r,downloadImage:i,shareImage:s}){const[o,f]=h.useState(!1),[p,g]=h.useState(fe),[w,_]=h.useState(ne);return l.jsxs("div",{className:`button-panel slideshow ${$?"button-panel-mobile":"button-panel-desktop"}`,children:[l.jsxs("div",{className:" text-panel",onClick:v=>{v.stopPropagation(),n(),f(!0),setTimeout(()=>f(!1),100)},children:[e?l.jsx(z,{icon:Ne,color:"#DC143C",className:`icon-panel ${$?"":"ml-20"}`,beat:o}):l.jsx(z,{icon:_e,className:`icon-panel ${$?"":"ml-20"}`,beat:o}),!$&&l.jsx("div",{children:" Favourites"})]}),l.jsxs("div",{className:" text-panel",onClick:v=>{v.stopPropagation(),i(),g(ke),setTimeout(()=>{g(fe)},oe)},children:[l.jsx(z,{icon:p,className:`icon-panel ${$?"":"ml-20"}`}),!$&&l.jsx("div",{children:" Download"})]}),l.jsxs("div",{className:" text-panel",onClick:v=>{v.stopPropagation(),s(),_(Se),setTimeout(()=>{_(ne)},oe)},children:[l.jsx(z,{icon:w,className:`icon-panel ${$?"":"ml-20"}`}),!$&&l.jsx("div",{children:" Share"})]}),!$&&l.jsxs("div",{className:" text-panel",onClick:v=>{v.stopPropagation(),r()},children:[t?l.jsx(z,{icon:mt,className:"icon-panel ml-20"}):l.jsx(z,{icon:gt,className:"icon-panel ml-20"}),l.jsx("div",{children:" Slideshow"})]})]})}var Ke={},we,sn=/^-?\d*\.?\d+(px|%)$/;function Xe(e){var n=e?e.trim():"0px",t=n.split(/\s+/).map(function(w){if(!sn.test(w))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return w}),r=t.shift(),i=t[0],s=i===void 0?r:i,o=t[1],f=o===void 0?r:o,p=t[2],g=p===void 0?s:p;return r+" "+s+" "+f+" "+g}function Oe(e,n){return Array.isArray(e)&&Array.isArray(n)&&e.length===n.length?e.some(function(t,r){return Oe(e[r],n[r])}):e!==n}var Ze=(we=Object.prototype,we.hasOwnProperty),on=we.toString;function an(e){return e&&Ze.call(e,"ref")}function cn(e){return!e||typeof e=="number"?e:e.join(",")}var Q=new Map;function ln(e){e===void 0&&(e={});for(var n=e.root||null,t=Xe(e.rootMargin),r=Array.isArray(e.threshold)?e.threshold:[e.threshold!=null?e.threshold:0],i=Q.keys(),s;s=i.next().value;){var o=n!==s.root||t!==s.rootMargin||Oe(r,s.thresholds);if(!o)return s}return null}function un(e,n){var t=Q.get(e);if(t){for(var r=t.values(),i=void 0;i=r.next().value;)if(i.target===n.target)return i}return null}function fn(e,n){for(var t=0;t<e.length;t++){var r=un(n,e[t]);r&&r.handleChange(e[t])}}function et(e){var n=ln(e);if(n)return n;var t=new IntersectionObserver(fn,e);return Q.set(t,new Set),t}function tt(e){var n;e.observer&&!Q.has(e.observer)&&Q.set(e.observer,new Set),(n=Q.get(e.observer))===null||n===void 0||n.add(e),e.observer.observe(e.target)}function nt(e,n){if(Q.has(e.observer)){var t=Q.get(e.observer);t!=null&&t.delete(e)&&(t.size>0?e.observer.unobserve(n):(e.observer.disconnect(),Q.delete(e.observer)))}}var hn=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(n,t)};return function(n,t){e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dn=["root","rootMargin","threshold"],vn=["root","rootMargin","threshold","disabled"],pn=function(e){return dn.reduce(function(n,t){var r,i=t==="root"&&on.call(e.root)==="[object String]";return Object.assign(n,(r={},r[t]=i?document.querySelector(e[t]):e[t],r))},{})},gn=function(e){hn(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.handleChange=function(r){t.props.onChange(r,t.externalUnobserve)},t.handleNode=function(r){var i=t.props.children;if(an(i)){var s=i.ref;typeof s=="function"?s(r):s&&Ze.call(s,"current")&&(s.current=r)}if(t.targetNode=void 0,r){var o=yt.findDOMNode(r);o&&o.nodeType===1&&(t.targetNode=o)}},t.observe=function(){if(t.props.children==null||t.props.disabled)return!1;if(!t.targetNode)throw new Error("ReactIntersectionObserver: Can't find DOM node in the provided children. Make sure to render at least one DOM node in the tree.");return t.observer=et(pn(t.props)),t.target=t.targetNode,tt(t),!0},t.unobserve=function(r){nt(t,r)},t.externalUnobserve=function(){t.targetNode&&t.unobserve(t.targetNode)},t}return n.prototype.getSnapshotBeforeUpdate=function(t){var r=this;this.prevTargetNode=this.targetNode;var i=vn.some(function(s){return Oe(r.props[s],t[s])});return i&&this.prevTargetNode&&(t.disabled||this.unobserve(this.prevTargetNode)),i},n.prototype.componentDidUpdate=function(t,r,i){var s=!1;i||(s=this.prevTargetNode!==this.targetNode,s&&this.prevTargetNode!=null&&this.unobserve(this.prevTargetNode)),(i||s)&&this.observe()},n.prototype.componentDidMount=function(){this.observe()},n.prototype.componentWillUnmount=function(){this.targetNode&&this.unobserve(this.targetNode)},n.prototype.render=function(){var t=this.props.children;return t!=null?R.cloneElement(R.Children.only(t),{ref:this.handleNode}):null},n.displayName="IntersectionObserver",n}(R.Component),mn=function(){},yn=function(e,n){var t=n===void 0?{}:n,r=t.root,i=t.rootMargin,s=t.threshold,o=t.disabled,f=h.useRef(!1),p=h.useRef({handleChange:function(O){e(O,mn)}}),g=h.useCallback(function(){p.current.target&&f.current&&(nt(p.current,p.current.target),f.current=!1)},[]);p.current.handleChange=function(T){e(T,g)};var w=function(){p.current.observer&&p.current.target&&!f.current&&(tt(p.current),f.current=!0)},_=h.useMemo(function(){return s},[cn(s)]),v=h.useMemo(function(){if(o){g(),p.current.observer=void 0;return}var O=typeof r=="string"?document.querySelector(r):r,T=et({root:O,rootMargin:i,threshold:_});return p.current.observer=T,g(),w(),T},[r,i,_,o]),C=h.useCallback(function(O){var T=O!=null&&p.current.target!==O;v||g(),T&&(g(),p.current.target=O,w()),O||(g(),p.current.target=void 0)},[v]);return[C,g]};const bn=Object.freeze(Object.defineProperty({__proto__:null,default:gn,parseRootMargin:Xe,useIntersectionObserver:yn},Symbol.toStringTag,{value:"Module"})),wn=bt(bn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(h),t=r(wn);function r(d){return d&&d.__esModule?d:{default:d}}function i(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return i=function(){return d},d}function s(d){if(d&&d.__esModule)return d;if(d===null||o(d)!=="object"&&typeof d!="function")return{default:d};var m=i();if(m&&m.has(d))return m.get(d);var x={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in d)if(Object.prototype.hasOwnProperty.call(d,S)){var u=c?Object.getOwnPropertyDescriptor(d,S):null;u&&(u.get||u.set)?Object.defineProperty(x,S,u):x[S]=d[S]}return x.default=d,m&&m.set(d,x),x}function o(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(x){return typeof x}:o=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o(d)}function f(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function p(d,m){for(var x=0;x<m.length;x++){var c=m[x];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}function g(d,m,x){return m&&p(d.prototype,m),d}function w(d,m){return m&&(o(m)==="object"||typeof m=="function")?m:v(d)}function _(d){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},_(d)}function v(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function C(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),m&&O(d,m)}function O(d,m){return O=Object.setPrototypeOf||function(c,S){return c.__proto__=S,c},O(d,m)}function T(d,m,x){return m in d?Object.defineProperty(d,m,{value:x,enumerable:!0,configurable:!0,writable:!0}):d[m]=x,d}var L=function(){return typeof window<"u"},j=function(d){C(m,d);function m(x){var c;return f(this,m),c=w(this,_(m).call(this,x)),T(v(c),"image",void 0),T(v(c),"handleOnlineStatus",function(){c.setState({isOnline:window.navigator.onLine})}),T(v(c),"loadImage",function(S,u){c.image&&(c.image.onload=null,c.image.onerror=null);var y=new Image;c.image=y,y.onload=c.onLoad,y.onerror=function(a){c.onError(a)},y.src=S,u&&(y.srcset=u.srcSet,y.sizes=u.sizes)}),T(v(c),"onLoad",function(){c.props.delay?c.setImageWithDelay():c.setImage()}),T(v(c),"setImageWithDelay",function(){setTimeout(function(){c.setImage()},c.props.delay)}),T(v(c),"setImage",function(){c._isMounted&&c.setState({image:c.image.src,loading:!1,srcSetData:{srcSet:c.image.srcset||"",sizes:c.image.sizes||""}},function(){window.removeEventListener("online",c.handleOnlineStatus),window.removeEventListener("offline",c.handleOnlineStatus)})}),T(v(c),"onError",function(S){var u=c.props.onError;u&&u(S)}),T(v(c),"handleIntersection",function(S,u,y){if(S.isIntersecting){var a=c.props,b=a.src,M=a.srcSetData;y&&(c.loadImage(b,M),u())}}),c._isMounted=!1,c.state={isOnline:L()?window.navigator.onLine:!0,image:x.placeholder,loading:!0,srcSetData:{srcSet:"",sizes:""}},c}return g(m,[{key:"componentDidMount",value:function(){this._isMounted=!0,L()&&(window.addEventListener("online",this.handleOnlineStatus),window.addEventListener("offline",this.handleOnlineStatus))}},{key:"componentDidUpdate",value:function(c){var S=this,u=this.props,y=u.src,a=u.placeholder,b=u.srcSetData;y!==c.src&&this.setState({image:a,loading:!0},function(){S.loadImage(y,b)})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.image&&(this.image.onload=null,this.image.onerror=null),this.timeout&&window.clearTimeout(this.timeout),window.removeEventListener("online",this.handleOnlineStatus),window.removeEventListener("offline",this.handleOnlineStatus)}},{key:"render",value:function(){var c=this,S={onChange:function(F,A){return c.handleIntersection(F,A,c.state.isOnline)},rootMargin:this.props.rootMargin||"0% 0% 25%",threshold:this.props.threshold||[0],disabled:this.props.noLazyLoad||!1},u=this.state,y=u.image,a=u.loading,b=u.srcSetData,M=this.props,P=M.src,I=M.children;M.noRetry;var U=M.noLazyLoad;if(!I||typeof I!="function")throw new Error("ProgressiveImage requires a function as its only child");return U?I(P,!1,this.props.srcSetData):n.createElement(t.default,S,I(y,a,b))}}]),m}(n.Component);e.default=j})(Ke);const _n=wt(Ke);function Sn({slidesrc:e,thumbsrc:n,setIsPlaying:t}){return l.jsx("div",{className:"each-slide",children:l.jsx(_n,{src:e,placeholder:n,children:r=>l.jsx("img",{src:r,className:$?"":"img-desktop",onContextMenu:i=>i.preventDefault(),onClick:i=>{t(!1),i.stopPropagation()}})})})}function xn({edgeOffset:e,activeEvent:n,imagesToRender:t,setAllImages:r,activeImageMap:i,setActiveImageMap:s,slideIndex:o,setSlideIndex:f,setJumpTrigger:p,jumpToIndex:g}){const[w,_]=h.useState(!1),[v,C]=h.useState(!1),O=()=>{C(!v)},T=()=>{const c=!w;_(c);const S=t[o];let u={};localStorage.getItem("favList")&&(u=JSON.parse(localStorage.getItem("favList"))),c?u[S.imgid]=S:delete u[S.imgid];let y=[];Object.entries(u).forEach(([a,b])=>{y.push(b)}),n!="fav"&&r(a=>({...a,fav:y})),localStorage.setItem("favList",JSON.stringify(u))},L=async()=>{const S=t[o].fullressrc,u=await fetch(S);if(!u.ok)throw new Error("Image download failed.");const y=await u.blob(),a=URL.createObjectURL(y),b=document.createElement("a");b.href=a;const M=new Date,P=M.getFullYear(),I=String(M.getMonth()+1).padStart(2,"0"),U=String(M.getDate()).padStart(2,"0"),H=String(M.getHours()).padStart(2,"0"),F=String(M.getMinutes()).padStart(2,"0"),A=String(M.getSeconds()).padStart(2,"0"),B=String(M.getMilliseconds()).padStart(3,"0"),k=`${document.title}_${P}${I}${U}${H}${F}${A}${B}.jpg`;b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(a)},j=()=>{const c=window.location.pathname.split("/");c.length<=3?c.push("share/"):(c.length=3,c[c.length-1]==""?c[c.length-2]="share":c[c.length-1]="share/");const S=t[o],u=window.location.origin+c.join("/").replace("//","/")+"?id="+S.imgid;navigator.share?navigator.share({title:document.title,text:document.title,url:u}):navigator.clipboard?navigator.clipboard.writeText(u):console.error("Neither Web Share API nor Clipboard API is supported")};h.useEffect(()=>{const c=document.getElementById("slideshow");if(c&&n!=""&&o>=0){document.body.style.overflow="hidden",c.style.display="block";const u=document.getElementById(t[o].imgid);u&&u.scrollIntoView();let y={};localStorage.getItem("favList")&&(y=JSON.parse(localStorage.getItem("favList")));const a=t[o];Object.keys(y).some(b=>b==a.imgid)?_(!0):_(!1)}const S=u=>{o>=0&&(u.key=="ArrowLeft"?m(-1):u.key=="ArrowRight"?m(1):u.key=="Escape"&&d())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[o]);const d=()=>{let c={};localStorage.getItem("favList")&&(c=JSON.parse(localStorage.getItem("favList")));let S=[];Object.entries(c).forEach(([y,a])=>{S.push(a)}),r(y=>({...y,fav:S}));const u=document.getElementById("slideshow");u&&(document.body.style.overflow="auto",u.style.display="none",f(-1),s([]))},m=c=>{if(n!=""){const S=Math.min(Math.max(o+c,0),t.length-1);f(S),p(!0),C(!1)}},x=(c,S)=>{{if(S-c==1||c-S==2*e){let u=i;const y=Math.min(...u),a=Math.max(...u)+1;a<=t.length-1&&o>e/2&&(u=u.map(b=>b==y?a:b)),s(u),f(o+1)}if(c-S==1||S-c==2*e){let u=i;const y=Math.min(...u)-1,a=Math.max(...u);y>=0&&o<t.length-1-e/2&&(u=u.map(b=>b==a?y:b)),s(u),f(o-1)}}};return l.jsxs("div",{id:"slideshow",className:"slide-container",onClick:()=>C(!1),children:[n!=""&&l.jsx(Qe,{autoplay:v,pauseOnHover:!1,duration:3e3,transitionDuration:250,infinite:!0,customEdgeLimitLeft:o>0,customEdgeLimitRight:o<t.length-1,ref:g,arrows:!1,canSwipe:$,onChange:x,children:i.map(c=>t[c]).map((c,S)=>l.jsx(Sn,{slidesrc:c.slidesrc,thumbsrc:c.thumbsrc,setIsPlaying:C},S))}),l.jsx("div",{className:"close slideshow",onClick:d,children:l.jsx(z,{icon:_t,size:"sm",color:"#333"})}),l.jsx(rn,{isFav:w,toggleFav:T,isPlaying:v,playPauseSlideshow:O,downloadImage:L,shareImage:j}),!$&&l.jsxs(l.Fragment,{children:[o>0&&l.jsx("div",{className:"left-arrow slideshow",id:"prev",onClick:c=>{c.stopPropagation(),m(-1)},children:"<"}),t&&o<t.length-1&&l.jsx("div",{className:"right-arrow slideshow",id:"next",onClick:c=>{c.stopPropagation(),m(1)},children:">"})]})]})}function En({mainTitle:e,activeEvent:n,fallbackEvent:t,eventData:r,scroll:i}){const[s,o]=h.useState(""),[f,p]=h.useState(""),[g,w]=h.useState(""),[_,v]=h.useState("");return h.useEffect(()=>{n!=""&&(n!="fav"&&n!="faces"?(p(r[n].date),w(r[n].coverPortrait),v(r[n].coverLandscape)):(n=="fav"&&p("Favourites"),n=="faces"&&p("Faces"),(g==""||_=="")&&(w(r[t].coverPortrait),v(r[t].coverLandscape))))},[n,r]),h.useEffect(()=>{const C=()=>{const O=document.getElementById("cover"),T=document.getElementById("cover-overlay");O&&T&&(O.style.height=document.documentElement.clientHeight+"px",T.style.height=document.documentElement.clientHeight+"px",document.documentElement.clientWidth>document.documentElement.clientHeight?o(_):o(g))};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[g,_]),l.jsxs("div",{className:"cover",id:"cover",children:[l.jsx("img",{src:s,onLoad:C=>C.target.style.opacity="1"}),l.jsx("div",{className:"cover-overlay",id:"cover-overlay",children:l.jsxs("div",{className:"cover-border",children:[l.jsx("div",{className:"text middle",children:e}),l.jsx("div",{className:"text bottom",children:f}),l.jsx("button",{className:"text view",onClick:i,children:"View Gallery"})]})})]})}function On({eventList:e,eventData:n,activeEvent:t,setActiveEvent:r,fallbackEvent:i,scroll:s}){const[o,f]=h.useState(!1),[p,g]=h.useState(ne),w=()=>{const v=window.location.href;navigator.share?navigator.share({title:document.title,text:document.title,url:v}):navigator.clipboard?navigator.clipboard.writeText(v):console.error("Neither Web Share API nor Clipboard API is supported")},_=v=>{f(v)};return l.jsxs("div",{id:"eventBox",className:"eventBox",children:[e.map(v=>l.jsxs("div",{className:"event",style:{color:t==v?"#000":"",display:!$||t==v||i==v||o?"flex":"none"},onClick:()=>{r(v),f(!1),s()},children:[l.jsx("div",{children:v}),l.jsx("div",{className:"titleLight",children:n[v].date})]},v)),$&&l.jsx("div",{className:"event",style:{color:"#000",marginLeft:$?"":"auto"},onClick:()=>{_(!o)},children:l.jsx("div",{children:l.jsx(z,{icon:St,size:"lg"})})}),l.jsx("div",{className:"event",style:{color:t=="faces"?"#000":"",marginLeft:$?"":"auto"},onClick:()=>{r("faces"),s()},children:l.jsxs("div",{children:[l.jsx(z,{icon:xt,size:"lg"}),!$&&" Faces"]})}),l.jsx("div",{className:"event",style:{color:"#000"},onClick:()=>{w(),g(Se),setTimeout(()=>{g(ne)},oe)},children:l.jsxs("div",{children:[l.jsx(z,{icon:p,size:"lg"}),!$&&" Share"]})}),l.jsx("div",{className:"event",style:{color:t=="fav"?"#000":"",paddingRight:0},onClick:()=>{r("fav"),s()},children:l.jsxs("div",{children:[l.jsx(z,{icon:_e,size:"lg"}),!$&&" Favourites"]})})]})}function Tn(){const[n,t]=h.useState({}),[r,i]=h.useState(""),[s,o]=h.useState(""),[f,p]=h.useState([]),[g,w]=h.useState(""),[_,v]=h.useState([]),[C,O]=h.useState({}),[T,L]=h.useState(-1),[j,d]=h.useState(!1),[m,x]=h.useState([]),c=async()=>{let a={fav:[],faces:{}},b=[],M="",P="";const I=Tt,H=new URLSearchParams(window.location.search).get("event");w(I.eventTitle),O(I.eventData);for(let F=0;F<I.events.length;F++){const A=I.events[F],B=I[A];b.push(A),P==""&&(P=A),M==""&&(M=A),H!=""&&(H==A.toLowerCase()&&(M=A),H=="fav"&&(M="fav"),H=="faces"&&(M="faces")),a[A]=[];for(let k=0;k<B.length;k++){let D=B[k],K=Z,q=D.height/D.width*Z;if(D.id.slice(-4)==".JPG"){a[A].push({imgid:D.id,fullressrc:"https://images.pixieset.com/55522446/"+D.id,slidesrc:"https://images.pixieset.com/55522446/"+D.id.replace("xxlarge","xlarge"),thumbsrc:"https://images.pixieset.com/55522446/"+D.id.replace("xxlarge","large"),width:K,height:q});continue}const J=D.width<D.height?"w":"h",ae=D.width<D.height?D.width:D.height;a[A].push({imgid:D.id,parentid:A,fullressrc:ee+D.id+`=${J}${ae}`,slidesrc:ee+D.id+`=${J}${je}`,thumbsrc:ee+D.id+`=${J}${Z}`,width:K,height:q})}}if("faces"in I)for(const F in I.faces){const A=I.faces[F];a.faces[F]=[];for(let B=0;B<A.length;B++){let k=A[B],D=Z,K=k.height/k.width*Z;const q=k.width<k.height?"w":"h",J=k.width<k.height?k.width:k.height;a.faces[F].push({imgid:k.id,parentid:F,sourceid:k.sourceid,fullressrc:ee+k.id+`=${q}${J}`,slidesrc:ee+k.id+`=${q}${je}`,thumbsrc:ee+k.id+`=${q}${Z}`,width:D,height:K})}}o(P),i(M),v(b),t(a)},S=()=>{let a=[];if(localStorage.getItem("favList")){const b=JSON.parse(localStorage.getItem("favList"));Object.entries(b).forEach(([M,P])=>{a.push(P)})}if(t(b=>({...b,fav:a})),localStorage.getItem("faceList")){const b=JSON.parse(localStorage.getItem("faceList"));Object.entries(b).forEach(([M,P])=>{})}};h.useEffect(()=>{c(),S()},[]),h.useEffect(()=>{if(r!=""){r!="fav"&&r!="faces"&&o(r),document.title=`${g} - ${r}`;const a=window.location.pathname.split("/"),b="?event="+r.toLowerCase();a.length<=3?a.push(b):(a.length=3,a[a.length-1]==""?a[a.length-2]=b:a[a.length-1]=b+"/");const M=a.join("/").replace("//","/");history.replaceState(null,"",M)}},[r]);const u=a=>{if(typeof a=="number"&&d(!0),a&&a.goTo&&j){d(!1);let b=[];const M=Math.max(0,T-10),P=Math.min(T+10+1,m.length);for(let I=M;I<P;I++)b.push(I);p(b),a.goTo(Math.min(10,T),{skipTransition:!0})}},y=()=>{const a=document.getElementById("eventBox");a&&a.scrollIntoView({behavior:"smooth"})};return l.jsxs(l.Fragment,{children:[l.jsx(xn,{edgeOffset:10,activeEvent:r,imagesToRender:m,setAllImages:t,activeImageMap:f,setActiveImageMap:p,slideIndex:T,setSlideIndex:L,setJumpTrigger:d,jumpToIndex:u}),r!=""&&l.jsxs(l.Fragment,{children:[l.jsx(En,{mainTitle:g,activeEvent:r,fallbackEvent:s,eventData:C,scroll:y}),l.jsx(On,{eventList:_,eventData:C,activeEvent:r,setActiveEvent:i,fallbackEvent:s,scroll:y}),r!="faces"?l.jsx(It,{images:n[r],imagesToRender:m,setImagesToRender:x,setAllImages:t,targetRowHeight:Et,edgeMargin:Me,spacing:Ce,setSlideIndex:L,jumpToIndex:u}):l.jsx(Nt,{faceImages:n.faces,targetRowHeight:Ot,edgeMargin:Me,spacing:Ce})]})]})}Ct.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(Tn,{})}));
